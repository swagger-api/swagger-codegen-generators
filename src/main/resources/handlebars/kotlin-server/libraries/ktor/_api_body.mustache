{{#hasAuthMethods}}
{{>libraries/ktor/_principal}}
if (principal == null) {
    call.respond(HttpStatusCode.Unauthorized)
} else {
    {{#examples}}
    {{#@first}}
    {{>libraries/ktor/_response}}
    {{/@first}}
    {{/examples}}
    {{^examples}}
    call.respond(HttpStatusCode.NotImplemented)
    {{/examples}}
}
{{/hasAuthMethods}}
{{^hasAuthMethods}}
{{#examples}}
{{#@first}}
{{>libraries/ktor/_response}}
{{/@first}}
{{/examples}}
{{^examples}}
call.respond(HttpStatusCode.NotImplemented)
{{/examples}}
{{/hasAuthMethods}}